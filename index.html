<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Cosas de Juan</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="css/modern-styles.css">
	<link rel="stylesheet" href="css/juegoBeber.css">
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4034071650788251" crossorigin="anonymous"></script>
</head>
<body>
	<!-- Hero Section -->
	<section class="hero-section">
		<div class="container">
			<div class="hero-content">
				<h1 class="hero-title fade-in">Cosas de Juan</h1>
				<p class="hero-subtitle fade-in stagger-1">Me gusta programar y inventar cosas</p>
				<p class="fade-in stagger-2">Hago proyectitos y los voy subiendo a esta web cuando puedo. Disfrutad de mis niños.</p>
			</div>
		</div>
	</section>

	<!-- Tabs Section -->
	<section class="section">
		<div class="container">
			<!-- Tab Navigation -->
			<ul class="nav nav-tabs custom-tabs justify-content-center mb-4" id="mainTabs" role="tablist">
				<li class="nav-item" role="presentation">
					<button class="nav-link active" id="games-tab" data-bs-toggle="tab" data-bs-target="#games" type="button" role="tab" aria-controls="games" aria-selected="true">
						<i class="fas fa-gamepad me-2"></i>Juegos Web
					</button>
				</li>
				<li class="nav-item" role="presentation">
					<button class="nav-link" id="projects-tab" data-bs-toggle="tab" data-bs-target="#projects" type="button" role="tab" aria-controls="projects" aria-selected="false">
						<i class="fas fa-code me-2"></i>Proyectos
					</button>
				</li>
				<li class="nav-item" role="presentation">
					<button class="nav-link" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" type="button" role="tab" aria-controls="about" aria-selected="false">
						<i class="fas fa-user me-2"></i>Sobre Mí
					</button>
				</li>
			</ul>

			<!-- Tab Content -->
			<div class="tab-content" id="mainTabsContent">
				<!-- Games Tab -->
				<div class="tab-pane fade show active" id="games" role="tabpanel" aria-labelledby="games-tab">
					<div id="games-content">
						<!-- Content will be loaded dynamically -->
					</div>
				</div>

				<!-- Projects Tab -->
				<div class="tab-pane fade" id="projects" role="tabpanel" aria-labelledby="projects-tab">
					<div id="projects-content">
						<!-- Content will be loaded dynamically -->
					</div>
				</div>

				<!-- About Tab -->
				<div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
					<div id="about-content">
						<!-- Content will be loaded dynamically -->
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer class="py-4" style="background: rgba(44, 62, 80, 0.9); color: white;">
		<div class="container text-center">
			<p class="mb-0">© 2025 Juan Castro Rodríguez</p>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		// Fade-in animation on scroll
		const observerOptions = {
			threshold: 0.1,
			rootMargin: '0px 0px -50px 0px'
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('visible');
				}
			});
		}, observerOptions);

		// Observe all fade-in elements
		document.querySelectorAll('.fade-in').forEach(el => {
			observer.observe(el);
		});

		// Tab content loading function
		async function loadTabContent(tabId, contentId) {
			try {
				const response = await fetch(`Tabs/${tabId}.html`);
				const content = await response.text();
				const container = document.getElementById(contentId);
				
				// Cargar contenido suavemente
				container.innerHTML = content;
				
				// Añadir visible class con un pequeño delay para evitar destello
				setTimeout(() => {
					container.querySelectorAll('.fade-in').forEach((el, index) => {
						observer.observe(el);
						// Stagger la aparición para un efecto más suave
						setTimeout(() => {
							el.classList.add('visible');
						}, index * 50); // 50ms entre cada elemento
					});
				}, 50); // Delay inicial de 50ms
			} catch (error) {
				console.error(`Error loading ${tabId} content:`, error);
			}
		}

		// Add initial visible class to elements in viewport
		document.addEventListener('DOMContentLoaded', () => {
			setTimeout(() => {
				document.querySelectorAll('.hero-section .fade-in').forEach(el => {
					el.classList.add('visible');
				});
			}, 300);

			// Load initial tab content (games)
			loadTabContent('games', 'games-content');

			// Tab functionality enhancement
			const tabLinks = document.querySelectorAll('#mainTabs button[data-bs-toggle="tab"]');
			tabLinks.forEach(link => {
				link.addEventListener('shown.bs.tab', function (e) {
					const targetId = e.target.getAttribute('data-bs-target').replace('#', '');
					const contentId = `${targetId}-content`;
					
					// Load content if not already loaded
					if (!document.getElementById(contentId).hasChildNodes() || 
						document.getElementById(contentId).children.length === 0) {
						loadTabContent(targetId, contentId);
					} else {
						// Re-observe fade-in elements en contenido ya existente con stagger suave
						const container = document.getElementById(contentId);
						setTimeout(() => {
							container.querySelectorAll('.fade-in').forEach((el, index) => {
								setTimeout(() => {
									el.classList.add('visible');
								}, index * 30); // Stagger más rápido para contenido existente
							});
						}, 30);
					}
				});
			});
		});
	</script>
</body>
</html>
